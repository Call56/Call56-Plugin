import discord
import asyncio
from discord.ext import commands
import random  # 数字をランダムに作成する

client = discord.Client()  # 接続に使用するオブジェクト
bot = commands.Bot(command_prefix='$')

@client.event # 必要ない
async def on_ready():
    """起動時に通知してくれる処理"""
    print('ログインしました')
    print(client.user.name)  # ボットの名前
    print(client.user.id)  # ボットのID
    print(discord.__version__)  # discord.pyのバージョン
    print('------')



@client.event
async def on_ready(): # botが起動したときに動作する処理
    print('ログインしました')
    await client.change_presence(activity=discord.Game(name="ゲームのプレイ中", type=1))


@client.event
async def on_message(message):
    """メッセージを処理"""
    if message.author.bot:  # ボットのメッセージをハネる
        return

    if message.content == "BOTにDM":
        # ダイレクトメッセージ送信
        dm = await message.author.create_dm()
        await dm.send(f"あ”やんのかごらぁあ”やんの")
        await message.channel.send(f"")  # f文字列（フォーマット済み文字列リテラル）


    elif message.content == "!投票":
        # リアクションアイコンを付けたい
        q = await message.channel.send("ふにゃ")
        [await q.add_reaction(i) for i in ('❌', '❌')]  # for文の内包表記



    elif message.content == "!ag":
        # Embedを使ったメッセージ送信 と ランダムで要素を選択
        embed = discord.Embed(title="英語!ag", description=f"!ag",
                              color=0x2ECC69)
        embed.set_thumbnail(url=message.author.avatar_url)
        embed.add_field(name="!ag ", value=random.choice(("a","b","c","d","e","f","g","h","i(アイ)","j","k","l(エル)","m","n","o","p","q","r","s","t","u","v","w","x","y","z")), inline=False)

        await message.channel.send(embed=embed)

    elif message.content == "!ng":
        # Embedを使ったメッセージ送信 と ランダムで要素を選択
        embed = discord.Embed(title="番号!ng", description=f"{message.author.mention}さんがコマンドを打ちました",
                              color=0x2ECC69)
        embed.set_thumbnail(url=message.author.avatar_url)
        embed.add_field(name="乱数", value=random.randint(1, 10000), inline=False)

        await message.channel.send(embed=embed)


    elif message.content == ".help":
        # Embedを使ったメッセージ送信 と ランダムで要素を選択
        embed = discord.Embed(title="!ng-BOT", description=f"[!]ランダム文字列発生器BOT",
                              color=0x2ECC69)
        embed.set_thumbnail(url=message.author.avatar_url)
        embed.add_field(name="URL", value=f"")
        embed.add_field(name="!ng", value=f"1~10000乱数を発生")
        embed.add_field(name="!ag", value=f"a~z乱数を発生")
        await message.channel.send(embed=embed)


    elif message.content == "test":
        # チャンネルへメッセージを送信
        await message.channel.send(f"test.test")  # f文字列（フォーマット済み文字列リテラル）


client.run('TOKENを入れてね')
